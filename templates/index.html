<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>VISUALIZATION-COVID-19</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="static/assets/css/main.css" />
		<noscript><link rel="stylesheet" href="static/assets/css/noscript.css" /></noscript>
		<script src="static/assets/js/echarts.min.js"></script>
		<script src="static/assets/js/echarts-gl.min.js"></script>
		<script src="static/assets/js/zrender.min.js"></script>
		<script src="static/assets/js/world.js"></script>
		<script src="static/assets/json/worldconfirm.js"></script>
		<script src="static/assets/json/worlddeath.js"></script>
		<script src="static/assets/json/worlddata.js"></script>
		<script src="static/assets/json/country.js"></script>

	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper" class="fade-in">

				<!-- Intro -->
					<div id="intro">
						<!-- <h1>This is<br />
						Massively</h1>
						<p>A free, fully responsive HTML5 + CSS3 site template designed by <a href="https://twitter.com/ajlkn">@ajlkn</a> for <a href="https://html5up.net">HTML5 UP</a><br />
						and released for free under the <a href="https://html5up.net/license">Creative Commons license</a>.</p> -->
						<!-- <div id="subcard" style="width: 200px; height: 400px;z-index:999;background-color: aliceblue;"></div> -->
							
						<div id="graph" style="width: 1500px; height: 850px;"></div>
						
						<ul class="actions">
							<li><a href="#header" class="button icon solid solo fa-arrow-down scrolly">Continue</a></li>
						</ul>
					</div>

				<!-- Header -->
					<header id="header">
						<a href="./" class="logo">VISUALIZATION COVID-19</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li class="active"><a href="./">This is Massively</a></li>
							<li><a href="./generic.html">Generic Page</a></li>
							<li><a href="./elements.html">Elements Reference</a></li>
						</ul>
						
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Featured Post -->
							<article class="post featured">
								<header class="major">
									<span class="date"><span id="timenow"></span></span>
									<h2>93,931,443</h2>
									<h3>confirmed cases</h3>
									<p >Globally, as of 7:08pm CET, 15 January 2021, <br/>
										there have been <b style="color: darkred">93,931,443</b> confirmed cases of COVID-19, including <b style="color: darkred">2,009,119</b> deaths</p>
								</header>
								<!-- <div class="image main"><div id="worldbarchart1" style="width: 1200px; height: 500px;"></div> -->
								<!-- <div class="image main"><div id="worldbarchart2" style="width: 1200px; height: 500px;"></div> -->
								<div class="image main">
									<div class='tableauPlaceholder' id='viz1610864208093' style='position: relative'>
										<noscript>
											<a href='#'>
												<img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CoronavirusCOVID-19Cases_16108641331930&#47;COVID-19GlobalView&#47;1_rss.png' style='border: none' />
											</a>
										</noscript>
										<object class='tableauViz'  style='display:none;'>
											<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
											<param name='embed_code_version' value='3' />
											<param name='site_root' value='' />
											<param name='name' value='CoronavirusCOVID-19Cases_16108641331930&#47;COVID-19GlobalView' />
											<param name='tabs' value='no' />
											<param name='toolbar' value='yes' />
											<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CoronavirusCOVID-19Cases_16108641331930&#47;COVID-19GlobalView&#47;1.png' />
											<param name='animate_transition' value='yes' />
											<param name='display_static_image' value='yes' />
											<param name='display_spinner' value='yes' />
											<param name='display_overlay' value='yes' />
											<param name='display_count' value='yes' />
											<param name='language' value='zh-Hans' />
											<param name='filter' value='publish=yes' />
										</object>
									</div>                
									<script type='text/javascript'>
										var divElement = document.getElementById('viz1610864208093');                    
										var vizElement = divElement.getElementsByTagName('object')[0];                    
										if ( divElement.offsetWidth > 800 ) { 
											vizElement.style.width='1200px';vizElement.style.height='777px';
										} 
										else if ( divElement.offsetWidth > 500 ) { 
											vizElement.style.width='1200px';vizElement.style.height='777px';
										} 
										else { vizElement.style.width='100%';vizElement.style.height='727px';
										}                     
										var scriptElement = document.createElement('script');                    
										scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    
										vizElement.parentNode.insertBefore(scriptElement, vizElement);                
									</script>
								</div>

								
								<ul class="actions special">
									<li><a href="https://covid19.who.int/" class="button large">Details</a></li>
								</ul>

								
							</article>

							
							
						<!-- Posts -->
							<section class="posts">
								<article>
									<header>
										<span class="date">15 January 2021</span>
										<h2>Emergency<br />
											Committee</h2>
									</header>
									<div class="image fit"><img src="static/images/news.png" style="width: 595px; height:363px; object-fit:cover;" alt="" /></div>
									<p>Emergency Committee on COVID-19 advises on variants, vaccines.<br><br></p>
									<ul class="actions special">
										<li>
											<a href="https://www.who.int/news/item/15-01-2021-emergency-committee-on-covid-19-advises-on-variants-vaccines" class="button">
												Details
											</a>
										</li>
									</ul>
								</article>
								<article>
									<header>
										<span class="date">15 January 2021</span>
										<h2>Statement<br />
											on IHREC</h2>
									</header>
									<div class="image fit"><img src="static/images/novelcoronavirus-optimized.jpg" style="width: 595px; height:363px; object-fit:cover;" alt="" /></div>
									<p>Statement on the sixth meeting of the International Health Regulations (2005) Emergency Committee regarding the coronavirus disease (COVID-19) pandemic.</p>
									<ul class="actions special">
										<li><a href="https://www.who.int/news/item/15-01-2021-statement-on-the-sixth-meeting-of-the-international-health-regulations-(2005)-emergency-committee-regarding-the-coronavirus-disease-(covid-19)-pandemic" class="button">
											Details
										</a></li>
									</ul>
								</article>
								<article>
									<header>
										<span class="date">12 January 2021</span>
										<h2>Scientists<br />
										Achievement</h2>
									</header>
									<div class="image fit"><img src="static/images/scientist.jpg"style="width: 595px; height:363px; object-fit:cover;" alt="" /></div>
									<p>Global scientists double down on SARS-CoV-2 variants research at WHO-hosted forum.<br><br></p>
									<ul class="actions special">
										<li><a href="https://www.who.int/news/item/12-01-2021-global-scientists-double-down-on-sars-cov-2-variants-research-at-who-hosted-forum" class="button">
											Details
										</a></li>
									</ul>
								</article>
								<article>
									<header>
										<span class="date">31 December 2020</span>
										<h2>use validation for<br />
											COVID-19 vaccine</h2>
									</header>
									<div class="image fit"><img src="static/images/news.png" style="width: 595px; height:363px; object-fit:cover;" alt="" /></div>
									<p>WHO issues its first emergency use validation for a COVID-19 vaccine and emphasizes need for equitable global access.</p>
									<ul class="actions special">
										<li><a href="https://www.who.int/news/item/31-12-2020-who-issues-its-first-emergency-use-validation-for-a-covid-19-vaccine-and-emphasizes-need-for-equitable-global-access" class="button">
											Details
										</a></li>
									</ul>
								</article>
								<article>
									<header>
										<span class="date">30 December 2020</span>
										<h2>COVID-19:<br />
											One year later</h2>
									</header>
									<div class="image fit"><img src="static/images/newyear.jpg" style="width: 595px; height:363px; object-fit:cover;" alt="" /></div>
									<p>COVID-19: One year later – WHO Director-General’s new year message.<br><br></p>
									<ul class="actions special">
										<li><a href="https://www.who.int/news/item/30-12-2020-covid-19-anniversary-and-looking-forward-to-2021" class="button">
											Details
										</a></li>
									</ul>
								</article>
								<article>
									<header>
										<span class="date">21 December 2020</span>
										<h2>considerations<br />
											for COVID-19 vaccines</h2>
									</header>
									<div class="image fit"><img src="static/images/concern.png" style="width: 595px; height:363px; object-fit:cover;" alt="" /></div>
									<p>Behavioural considerations for acceptance and uptake of COVID-19 vaccines.<br><br></p>
									<ul class="actions special">
										<li><a href="https://www.who.int/news/item/21-12-2020-behavioural-considerations-for-acceptance-and-uptake-of-covid-19-vaccines" class="button">
											Details
										</a></li>
									</ul>
								</article>
							</section>

						<!-- Footer -->
							<!-- <footer> -->
								<!-- <div class="pagination"> -->
									<!--<a href="#" class="previous">Prev</a>-->
									<!-- <a href="#" class="page active">1</a>
									<a href="#" class="page">2</a>
									<a href="#" class="page">3</a>
									<span class="extra">&hellip;</span>
									<a href="#" class="page">8</a>
									<a href="#" class="page">9</a>
									<a href="#" class="page">10</a>
									<a href="#" class="next">Next</a>
								</div>
							</footer> -->

					</div>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; VISUALIZATION</li><li>COVID-19</li></ul>
					</div>

			</div>
		<!-- Scripts -->
		<script src="static/assets/js/jquery.min.js"></script>
		<script src="static/assets/js/jquery.scrollex.min.js"></script>
		<script src="static/assets/js/jquery.scrolly.min.js"></script>
		<script src="static/assets/js/browser.min.js"></script>
		<script src="static/assets/js/breakpoints.min.js"></script>
		<script src="static/assets/js/util.js"></script>
		<script src="static/assets/js/main.js"></script>

		<script type="text/javascript">
			// 基于准备好的dom，初始化echarts实例
			
				var myChart1 = echarts.init(document.getElementById('graph'));
				var canvas = document.createElement('canvas');
				var mapChart = echarts.init(canvas, null, {
    				width: 1500,
    				height: 850
				});

				var data1 = data.filter(function (dataItem){
					return dataItem.Confirmed > 0;
				}).map(function (dataItem) {
        			return [dataItem.Long_, dataItem.Lat, Math.sqrt(dataItem.Confirmed)];
				});

				// console.log(data[0]);
				var data2 = new Array();
				var data3 = new Array();
				for (var i = 0; i < data1.length; i++) {
					data2[i] = [(Math.log2(parseInt(data1[i][0]+10))).toString(), (Math.log2(parseInt(data1[i][1]+10))).toString(), data1[i][2]+10];
				}
				for (var i = 0; i < data1.length; i++) {
					data3[i] = [(Math.sqrt(parseInt(data1[i][0]+20))).toString(), (Math.sqrt(parseInt(data1[i][1]+20))).toString(), data1[i][2]+20];
				}
				var data4 = data1.concat(data2).concat(data3);

				console.log(country[0]);
				mapChart.setOption(
				{
					series:[ {
        				type: 'map',
        				map: 'world',
        				top: 0,
        				left: 0,
        				right: 0,
        				bottom: 0,
        				boundingCoords: [
            				[-180, 90],
            				[180, -90]
						],
        				itemStyle: {
                			areaColor: 'white',
							borderColor: 'rgb(200,200,200)',
							borderwidth: 0,
							bordertype: "dash",
            				emphasis: {
                				areaColor: 'darkred'
							}
						},
						data:country,
						emphasis:{
							label:{
								show:false
							}
						}
					}],
					tooltip:{
						trigger:'item',
						triggerOn:"mousemove",
						renderMode:"richText",
						show:true,
						formatter: function (params) {
							var value = params.value;
							var name = params.name;
							var infomation = name + ": " + value + " confirmed cases";
							console.log(infomation);     
							return infomation;
      					}
					}
					
				});
    			var option = {
        			globe: {
            			baseTexture: "static/images/world9.jpg",
						heightTexture: "static/images/world.topo.bathy.200401.jpg",
						shading: "lambert",
            			environment: null,
            			viewControl: {
							distance: 230,
                			autoRotate: true
						},
						light:{
							main:null,
							ambient:{
								intensity:1
							}
						},
						layers: [{
            				type: 'blend',
            				texture: mapChart
        				}]
        			},
        			visualMap: {
            			max: 1700,
            			calculable: true,
            			realtime: false,
            			inRange: {
                			colorLightness: [0.2, 0.9]
            			},
            			textStyle: {
                			color: '#fff'
            			},
            			controller: {
                			inRange: {
                    			color: 'red'
                			}
            			},
            			outOfRange: {
                			colorAlpha: 0
						},
						
					},
        			series: [{
            			type: 'bar3D',
            			coordinateSystem: 'globe',
            			data: data4,
            			barSize: 1.2,
            			minHeight: 1,
            			silent: true,
            			itemStyle: {
               				color: 'red'
						},
					}],
					
					
    			};
				myChart1.setOption(option);

				mapChart.on('click', function(params) {
					var name = params.name;
					var value = params.value;
					console.log(value);
				});

		</script>

		<script>
			var myChart2 = echarts.init(document.getElementById('worldbarchart1'));
			var option2;
			console.log(confirmed[0]);

			var option2 = {
    			tooltip: {
        			trigger: 'axis',
        			axisPointer: {
            			type: 'shadow'
        			}
    			},
    			grid: {
					left: 150,
        			bottom: 90
    			},
    			dataZoom: [{
        			type: 'inside'
    			}, {
        			type: 'slider'
				}],
				dataset:{
					dimension:['date', 'Confirmed'],
					source: confirmed
				},
    			xAxis: [{
					type:'category',
        			silent: false,
        			splitLine: {
            			show: false
        			},
        			splitArea: {
            			show: false
        			}
    			}],
    			yAxis: [{
        			splitArea: {
            			show: false
        			}
    			}],
    			series: [
					{
						name: 'Confirmed',
						type: 'bar',
        				// Set `large` for large data amount
						large: true,
						itemStyle:{
							color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    			offset: 0,
                    			color: 'rgb(240, 15, 15)'
                			}, {
                    			offset: 1,
                    			color: 'rgb(80, 51, 51)'
                			}])
						},
						emphasis: {
                			focus: 'series'
            			}
					},
					
				]
			};

			option2 && myChart2.setOption(option2);
		</script>

		<script>
			var myChart3 = echarts.init(document.getElementById('worldbarchart2'));
			var option3;
			console.log(death[0]);

			var option3 = {
    			tooltip: {
        			trigger: 'axis',
        			axisPointer: {
            			type: 'shadow'
        			}
    			},
    			grid: {
					left: 150,
        			bottom: 90
    			},
    			dataZoom: [{
        			type: 'inside'
    			}, {
        			type: 'slider'
				}],
				dataset:{
					dimension:['date', 'Death'],
					source: death
				},
    			xAxis: [{
					type:'category',
        			silent: false,
        			splitLine: {
            			show: false
        			},
        			splitArea: {
            			show: false
        			}
    			}],
    			yAxis: [{
        			splitArea: {
            			show: false
        			}
    			}],
    			series: [
					{
						name: 'Death',
						type: 'bar',
        				// Set `large` for large data amount
						large: true,
						itemStyle:{
							color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    			offset: 0,
                    			color: 'rgb(240, 15, 15)'
                			}, {
                    			offset: 1,
                    			color: 'rgb(80, 51, 51)'
                			}])
						},
						emphasis: {
                			focus: 'series'
            			}
					},
					
				]
			};

			option3 && myChart3.setOption(option3);
		</script>

		<script type="text/javascript">
        	function gettime() {
				var arr = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
            	var now = new Date();
            	var madetime = now.getHours() + ":" + now.getMinutes() + ":" + now.getSeconds() + ", " + now.getDate() + ' ' + (arr[now.getMonth() + 1]) + ', ' + now.getFullYear() + "";
            	document.getElementById("timenow").innerText = madetime;
        	}
        	gettime();//显示第一秒的时间
        	setInterval("gettime()",1000);
		</script>

	</body>
</html>