$(function(){
        // 基于准备好的dom，初始化echarts实例
        var myChart1 = echarts.init(document.getElementById('test'));
        
        var sumData=new Array (
            '41','45','62','198','275','291','440','571','830','1287','1975','2744','4515','5974','7711','9692','11791','14380','17205','20438','24324','28018','31161','34594','37162','40224','42708','44730','58839','63932','66575','68584','70637','72528','74276','75101','75993','76392','76846','77262','77779','78190','78630','78959','79389','79968','80174','80302','80422','80565','80710','80813','80859','80904','80924','80955','80992','81003','81021','81048','81077','81116','81151','81235','81300','81416','81498','81600','81747','81846','81960','82078','82213','82341','82447','82545','82631','82724','82802','82875','82930','83005','83071','83157','83249','83305','83369','83482','83597','83696','83745','83797','84149','84180','84201','84237','84250','84287','84302','84311','84324','84338','84341','84347','84367','84369','84373','84387','84391','84393','84403','84404','84407','84414','84416','84416','84435','84450','84451','84461','84465','84471','84478','84487','84494','84503','84506','84516','84522','84522','84525','84536','84543','84545','84547','84561','84569','84572','84593','84603','84602','84608','84617','84624','84630','84635','84639','84641','84653','84663','84671','84739','84784','84833','84878','84909','84943','84971','85002','85056','85086','85104','85134','85151','85174','85193','85209','85229','85260','85273','85284','85299','85317','85337','85359','85390','85441','85485','85519','85560','85620','85671','85696','85766','85840','85921','86046','86141','86213','86340','86481','86636','86793','86967','87177','87356','87575','87830','88077','88254','88417','88540','88653','88767','88900','89026','89128','89221','89341','89416','89507','89595','89674','89744','89837','89906','89963','90009','90037','90080','90129','90166','90191','90225','90264','90292','90314','90343','90370','90395','90414','90431','90451','90489','90508','90539','90564','90580','90588','90608','90637','90657','90685','90696','90722','90744','90768','90800','90830','90864','90885','90898','90911','90925','90937','90952','90972','91006','91022','91050','91072','91091','91105','91126','91159','91173','91190','91231','91264','91284','91312','91352','91368','91388','91413','91449','91478','91496','91529','91554','91574','91603','91626','91661','91681','91710','91736','91776','91829','91860','91897','91931','91968','92030','92049','92087','92132','92167','92210','92251','92283','92323','92364','92388','92417','92444','92462','92482','92501','92527','92576','92633','92725','92809','92909','93004','93108','93219','93318','93447','93565','93664','93781','93889','94023','94142','94278','94373','94488'
            );
        var Datedata=new Array(
            '2020/1/15','2020/1/16','2020/1/17','2020/1/18','2020/1/19','2020/1/20','2020/1/21','2020/1/22','2020/1/23','2020/1/24','2020/1/25','2020/1/26','2020/1/27','2020/1/28','2020/1/29','2020/1/30','2020/1/31','2020/2/1','2020/2/2','2020/2/3','2020/2/4','2020/2/5','2020/2/6','2020/2/7','2020/2/8','2020/2/9','2020/2/10','2020/2/11','2020/2/12','2020/2/13','2020/2/14','2020/2/15','2020/2/16','2020/2/17','2020/2/18','2020/2/19','2020/2/20','2020/2/21','2020/2/22','2020/2/23','2020/2/24','2020/2/25','2020/2/26','2020/2/27','2020/2/28','2020/2/29','2020/3/1','2020/3/2','2020/3/3','2020/3/4','2020/3/5','2020/3/6','2020/3/7','2020/3/8','2020/3/9','2020/3/10','2020/3/11','2020/3/12','2020/3/13','2020/3/14','2020/3/15','2020/3/16','2020/3/17','2020/3/18','2020/3/19','2020/3/20','2020/3/21','2020/3/22','2020/3/23','2020/3/24','2020/3/25','2020/3/26','2020/3/27','2020/3/28','2020/3/29','2020/3/30','2020/3/31','2020/4/1','2020/4/2','2020/4/3','2020/4/4','2020/4/5','2020/4/6','2020/4/7','2020/4/8','2020/4/9','2020/4/10','2020/4/11','2020/4/12','2020/4/13','2020/4/14','2020/4/15','2020/4/16','2020/4/17','2020/4/18','2020/4/19','2020/4/20','2020/4/21','2020/4/22','2020/4/23','2020/4/24','2020/4/25','2020/4/26','2020/4/27','2020/4/28','2020/4/29','2020/4/30','2020/5/1','2020/5/2','2020/5/3','2020/5/4','2020/5/5','2020/5/6','2020/5/7','2020/5/8','2020/5/9','2020/5/10','2020/5/11','2020/5/12','2020/5/13','2020/5/14','2020/5/15','2020/5/16','2020/5/17','2020/5/18','2020/5/19','2020/5/20','2020/5/21','2020/5/22','2020/5/23','2020/5/24','2020/5/25','2020/5/26','2020/5/27','2020/5/28','2020/5/29','2020/5/30','2020/5/31','2020/6/1','2020/6/2','2020/6/3','2020/6/4','2020/6/5','2020/6/6','2020/6/7','2020/6/8','2020/6/9','2020/6/10','2020/6/11','2020/6/12','2020/6/13','2020/6/14','2020/6/15','2020/6/16','2020/6/17','2020/6/18','2020/6/19','2020/6/20','2020/6/21','2020/6/22','2020/6/23','2020/6/24','2020/6/25','2020/6/26','2020/6/27','2020/6/28','2020/6/29','2020/06/30','2020/07/01','2020/07/02','2020/07/03','2020/07/04','2020/07/05','2020/07/06','2020/07/07','2020/07/08','2020/07/09','2020/07/10','2020/07/11','2020/07/12','2020/07/13','2020/07/14','2020/07/15','2020/07/16','2020/07/17','2020/07/18','2020/07/19','2020/07/20','2020/07/21','2020/07/22','2020/07/23','2020/07/24','2020/07/25','2020/07/26','2020/07/27','2020/07/28','2020/07/29','2020/07/30','2020/07/31','2020/08/01','2020/08/02','2020/08/03','2020/08/04','2020/08/05','2020/08/06','2020/08/07','2020/08/08','2020/08/09','2020/08/10','2020/08/11','2020/08/12','2020/08/13','2020/08/14','2020/08/15','2020/08/16','2020/08/17','2020/08/18','2020/08/19','2020/08/20','2020/08/21','2020/08/22','2020/08/23','2020/08/24','2020/08/25','2020/08/26','2020/08/27','2020/08/28','2020/08/29','2020/08/30','2020/08/31','2020/09/01','2020/09/02','2020/09/03','2020/09/04','2020/09/05','2020/09/06','2020/09/07','2020/09/08','2020/09/09','2020/09/10','2020/09/11','2020/09/12','2020/09/13','2020/09/14','2020/09/15','2020/09/16','2020/09/17','2020/09/18','2020/09/19','2020/09/20','2020/09/21','2020/09/22','2020/09/23','2020/09/24','2020/09/25','2020/09/26','2020/09/27','2020/09/28','2020/09/29','2020/09/30','2020/10/01','2020/10/02','2020/10/03','2020/10/04','2020/10/05','2020/10/06','2020/10/07','2020/10/08','2020/10/09','2020/10/10','2020/10/11','2020/10/12','2020/10/13','2020/10/14','2020/10/15','2020/10/16','2020/10/17','2020/10/18','2020/10/19','2020/10/20','2020/10/21','2020/10/22','2020/10/23','2020/10/24','2020/10/25','2020/10/26','2020/10/27','2020/10/28','2020/10/29','2020/10/30','2020/10/31','2020/11/01','2020/11/02','2020/11/03','2020/11/04','2020/11/05','2020/11/06','2020/11/07','2020/11/08','2020/11/09','2020/11/10','2020/11/11','2020/11/12','2020/11/13','2020/11/14','2020/11/15','2020/11/16','2020/11/17','2020/11/18','2020/11/19','2020/11/20','2020/11/21','2020/11/22','2020/11/23','2020/11/24','2020/11/25','2020/11/26','2020/11/27','2020/11/28','2020/11/29','2020/11/30','2020/12/01','2020/12/02','2020/12/03','2020/12/04','2020/12/05','2020/12/06','2020/12/07','2020/12/08'
            );
        
        var crueData=new Array(
            '12','15','19','24','25','25','25','25','34','38','49','51','60','103','124','171','243','328','475','632','892','1153','1540','2052','2651','3283','3998','4742','5646','6728','8101','9425','10860','12561','14387','16168','18277','20672','22907','24757','27353','29775','32531','36157','39049','41675','44518','47260','49914','52109','53793','55477','57143','58684','59982','61567','62887','64216','65649','67022','67863','68799','69725','70547','71284','71876','72382','72841','73299','73791','74196','74737','75122','75600','75937','76225','76415','76610','76785','76984','77055','77055','77055','77055','77055','77055','77055','77055','77180','77297','77424','77539','77635','77744','77825','77895','77978','78042','78147','78236','78362','78450','78558','78664','78712','78766','78816','78893','78911','78966','79043','79182','79246','79305','79361','79418','79510','79538','79585','79616','79635','79660','79679','79700','79705','79715','79720','79736','79738','79743','79751','79762','79772','79780','79791','79800','79806','79809','79822','79826','79827','79835','79848','79853','79857','79865','79876','79883','79892','79901','79903','79912','79915','79924','79932','79945','79951','79966','79970','79970','79987','79994','80002','80012','80021','80036','80049','80060','80084','80096','80111','80137','80154','80164','80178','80203','80249','80279','80303','80331','80351','80391','80421','80461','80491','80519','80575','80600','80644','80671','80734','80738','80834','80890','80900','80954','81025','81104','81213','81345','81456','81551','81658','81860','82008','82223','82402','82558','82680','82873','82932','83245','83398','83546','83646','83726','83841','84020','84112','84246','84360','84442','84508','84613','84680','84783','84874','84942','84985','85030','85108','85160','85205','85241','85302','85337','85367','85399','85423','85468','85496','85520','85557','85566','85598','85628','85652','85674','85700','85713','85728','85739','85779','85796','85810','85840','85851','85870','85900','85934','85958','85971','85986','86009','86019','86030','86057','86088','86122','86141','86153','86168','86192','86204','86227','86243','86272','86304','86326','86357','86379','86414','86436','86467','86485','86509','86527','86551','86582','86617','86641','86671','86698','86726','86754','86775','86801','86847','86883','86909','86931','86958','87001','87032','87070','87097','87133','87174','87221','87267','87280','87311','87333','87360','87380','87425','87448','87475','87517','87546','87576','87609','87663','87712','87765','87827','87895','87971','88056'
            );
        var addData=new Array(
            '0','0','4','17','136','77','16','149','131','259','457','688','769','1771','1459','1737','1981','2099','2589','2825','3233','3886','3694','3143','3433','2568','3062','2484','2022','14109','5093','2643','2009','2053','1891','1748','825','892','399','454','416','517','411','440','329','430','579','206','128','120','143','145','103','46','45','20','31','37','11','18','27','29','39','35','84','65','116','82','102','147','99','114','118','135','128','106','98','86','93','78','73','55','75','66','86','92','56','64','113','115','99','49','52','352','31','21','36','13','37','15','9','13','14','3','6','20','2','4','14','4','2','10','1','3','7','2','0','19','15','1','10','4','6','7','9','7','9','3','10','6','0','3','11','7','2','2','14','8','3','21','10','-1','6','9','7','6','5','4','2','12','10','8','68','45','49','45','31','34','28','31','54','30','18','30','17','23','19','16','20','31','13','11','15','18','20','22','31','51','44','41','60','51','25','70','74','81','125','95','72','127','141','155','157','174','210','179','219','255','247','177','163','123','113','114','133','126','102','93','120','75','91','88','79','70','93','69','57','46','28','43','49','37','25','34','39','28','22','29','27','25','19','17','20','38','19','31','25','16','8','20','29','20','28','11','26','22','24','32','30','34','21','13','13','14','12','15','20','34','16','28','22','19','14','21','33','14','17','41','33','20','28','40','16','20','25','36','29','18','33','25','20','29','23','35','20','29','26','40','53','31','37','34','37','62','19','38','45','35','43','41','32','40','41','24','29','27','18','20','19','26','49','57','92','84','100','95','104','111','99','129','118','99','117','108','134','119','136','95','115'
        );
        option = null;
        function randomData(i) {
            now = new Date(Datedata[i]);
            
            value = sumData[i];
            return {
                name: now.toString(),
                value: [
                    [now.getFullYear(), now.getMonth()+1, now.getDate()].join('/'),
                    value
                ]
            };
        }
        
        function randomData2(i) {
            now = new Date(Datedata[i]);
            
            value = crueData[i];
            return {
                name: now.toString(),
                value: [
                    [now.getFullYear(), now.getMonth()+1, now.getDate()].join('/'),
                    value
                ]
            };
        }

        function randomData3(i) {
            now = new Date(Datedata[i]);
            
            value = addData[i];
            return {
                name: now.toString(),
                value: [
                    [now.getFullYear(), now.getMonth()+1, now.getDate()].join('/'),
                    value
                ]
            };
        }



        var data = [];
        var data2 = [];
        var add=[];
        var now = new Date(2020, 1, 30);
        var oneDay = 24 * 3600 *100;

        for (var i = 0; i < 350; i++) {
            data.push(randomData(i));
            data2.push(randomData2(i));
            add.push(randomData3(i));
        }

        option = {
            title: {
                text: '中国大陆每日新增确诊历史图'
            },
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    params1 = params[0];
                   
                    var date_sum = new Date(params1.name);
                    return date_sum.getFullYear()  + '/' + (date_sum.getMonth()+1) + '/' +(date_sum.getDate()) +'<br/>'+ '新增确诊病例'+' : ' + params1.value[1];
                },
                axisPointer: {
                    animation: false
                }
            },
            legend: {
                data:['累计确诊病例', '累计治愈病例']
            },
            xAxis: {
                type: 'time',
                splitLine: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '30%'],
                splitLine: {
                    show: false
                }
            },
            series: [{
                name: '确证病例累计',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                data: add
            },
            // {
            //     name: '治愈病例累计',
            //     type: 'line',
            //     showSymbol: false,
            //     hoverAnimation: false,
            //     data: data2
            // },

        ]
        };
        
        setInterval(function () {
            var data0 = option.series[0].data;
            // var data2 = option.series[1].data;
            // var add_data=option.series[2].data;
            for (var i = 0; i < 1; i++) {
                data0.shift();
                data0.push(randomData());
            }
            // for (var i = 0; i < 1; i++) {
            //     data2.shift();
            //     data2.push(randomData2());
            // }
            // for (var i = 0; i < 1; i++) {
            //     add_data.shift();
            //     add_data.push(randomData3());
            // }
            myChart1.setOption({
                series: [{
                    data:data0
                },
                // {
                //     data:data2
                // },
                // {
                //     data:add_data
                // }
            ]
            });
        }, 800);;
        if (option && typeof option === "object") {
            myChart1.setOption(option, true);
        }
							
});